<!DOCTYPE html>
<html>
   <head>
      <title>Typist</title>
      <link rel="icon" href="favicon.ico" type="image/x-icon">
      <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
      <meta content="width=device-width, initial-scale=1" name="viewport">
      <style>
         * {
         box-sizing: border-box;
         margin: 0;
         padding: 0;
         }
         body {
         font-family: 'Open Sans', sans-serif;
         background: #f9f9f9;
         width: 1728px;
		 height: 931px;
         }
         h1 {
         font-size: 2.5em;
         }
         body {
         font-family: 'Open Sans', sans-serif;
         background-color: #f7f7f7;
         }
         h1, h2, h3 {
         font-weight: 700;
         margin-top: 0;
         }
         .tabs {
         display: flex;
         justify-content: space-between;
         align-items: center;
         background-color: #222;
         padding: 20px;
         border-radius: 5px;
         box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
         margin: 100px auto 0;
         max-width: 800px;
         overflow: hidden;
         position: relative;
         z-index: 1;
         }
         .tab {
         padding: 15px 20px;
         background-color: #ddd;
         cursor: pointer;
         border-radius: 5px ;
         border: 1px solid #fff;
         margin-right: 5px;
         margin-bottom: -1px;
         position: relative;
         transition: all 0.2s ease-in-out;
         }
         .tab:hover {
         background-color: #ccc;
         }
         .tab.active {
         background-color: #fff;
         border-bottom: 1px solid #aaa;
         position: relative;
         z-index: 2;
         }
         .tab.active:before {
         content: "";
         display: block;
         position: absolute;
         bottom: -15px;
         left: 50%;
         transform: translateX(-50%);
         width: 0;
         height: 0;
         border-style: solid;
         border-width: 15px 15px 0 15px;
         border-color: #fff transparent transparent transparent;
         }
         .tab-content {
         display: none;
         padding: 30px 20px;
         background-color: #fff;
         border: 1px solid #aaa;
         border-radius: 0 0 5px;
         position: relative;
         z-index: 1;
         box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
         margin-top: 20px;
         margin-bottom: 100px;
         }
         .tab-content.active {
         display: flex;
         }
         .tab-content h2 {
         font-size: 24px;
         color: #333;
         margin-bottom: 0px;
         text-align: center
         }
         .tab-content p {
         font-size: 16px;
         color: #666;
         line-height: 1.5;
         }
         .tab-content img {
         display: block;
         margin: 20px auto;
         max-width: 100%;
         height: auto;
         }
         .container {
         max-width: 960px;
         margin: auto;
         padding: 0em;
         width: 80%;
         }
         .typing-test {
         background: #fff;
         border: 1px solid #ccc;
         border-radius: 5px;
         padding: 1em;
         margin-bottom: 2em;
         }
         .typing-test h2 {
         margin-bottom: 1em;
         }
         .typing-test p {
         margin-bottom: 0.5em;
         }
         .typing-test textarea {
         width: 100%;
         min-height: 400px; /* increase height */
         padding: 1em;
         font-size: 1.1em;
         border: 1px solid #ccc;
         border-radius: 5px;
         margin-bottom: 1em;
         }
         .typing-test button {
         background: #222;
         color: #fff;
         border: none;
         border-radius: 5px;
         padding: 1em;
         cursor: pointer;
         }
         .typing-test button:hover {
         background: #555;
         }
         .result {
         background: #fff;
         border: 1px solid #ccc;
         border-radius: 5px;
         padding: 1em;
         height: auto; /* make height same as typing-test frame */
         }
         .result p {
         margin-bottom: 0.5em;
         }
         @media(max-width:425px){
         #typing-text-right {
         width:auto!important;
         }
         }
         @media(max-width:425px){
         #typing-text-right {
         width: 270px!important;
         }
         }
         @media(max-width:767px){
         #typing-text-right {
         margin-top:20px!important ;
         }
         .typing-box{
         width:100%!important;
         }
         .tab-content.active, .typing-container {
         display: block!important;
         }
         }
         @media screen and (max-width: 768px) {
         .container {
         padding: 1em;
         }
         .typing-test {
         margin-bottom: 1em;
         }
         .typing-test textarea {
         min-height: 400px;
         height: 100%
         }
         .result {
         min-height: 400px;
         height: 100%
         }
         #typing-text-right {
         width:360px;
         }
         }
         .result {
         min-height: 400px;
         height: 100%
         }
      </style>
   </head>
   <body>
      <header style="background: #222; color: #fff; padding: 1em; text-align: center; position: fixed; width: 100%; top: 0; left: 0; z-index: 999;">
         <!-- #222 -->
         <h1>Typist</h1>
      </header>
      <div class="tabs">
         <div class="tab active" onclick="showTab('tab1')">
            TASK 1
         </div>
         <div class="tab" onclick="showTab('tab2')">
            TASK 2
         </div>
         <div class="tab" onclick="showTab('tab3')">
            TRAIN
         </div>
      </div>
      <div class="tab-content active" id="tab1">
         <div class="typing-box" style="width: 48%; height: 869px; margin-right: 2%;">
            <div style="display: flex; flex-direction: column; align-items: center;">
               <canvas height="1550" id="screenshot-canvas" style="padding: 20px; max-width: 100%; max-height: 100%; margin: auto; width:700px; height:800px;" width="1500"></canvas>
               <button onclick="uploadScreenshot()" style="display: block; margin: 30px auto 0; padding: 10px 20px; font-size: 18px; font-weight: bold; color: #fff; background-color: #333; border: none; border-radius: 5px; cursor: pointer; margin-top: 10px; text-align: center; font-size: 18px;">Upload Screenshot</button>
            </div>
         </div>
         <div class="typing-box" style="width: 48%; height: 869px">
            <div style="display: flex; flex-direction: column; align-items: center;">
               <textarea id="typing-textright" placeholder="Type your text here" style="display: block; margin: 0 auto; padding: 10px; width: 100%; height: 800px; font-size: 18px; line-height: 1.5; border: 2px solid #ccc; border-radius: 5px; box-sizing: border-box;" autocomplete="off" spellcheck="false"></textarea>
               <div id="resultright" style="display: none; margin: 30px auto 0; padding: 20px; width: 100%; font-size: 24px; line-height: 1.5; text-align: center; background-color: #fff; border: 2px solid #ccc; border-radius: 5px; box-sizing: border-box;"></div>
               <div id="timercontainer" style="width:100%; display: flex; justify-content: space-around; align-items: center; margin-top: 20px; font-size: 24px; margin-right: 10px;">
                  <div id="timerlabel" style="font-size: 18px; font-size: 24px;"></div>
                  <div id="buttoncontainer" style="display: flex; justify-content: space-between; margin-top: 20px; margin: 0 auto">
                     <button id="wordcounter" style="padding: 10px 20px; font-size: 18px; font-weight: bold; color: #fff; background-color: #333; border: none; border-radius: 5px; cursor: pointer; text-align: center; display: flex; justify-content: center; align-items: center; margin-right: 10px;">0 words</button><button id="timerright" style="padding: 10px 20px; font-size: 18px; font-weight: bold; color: #fff; background-color: #333; border: none; border-radius: 5px; cursor: pointer; text-align: center; display: flex; justify-content: center; align-items: center; margin-right: 10px;"></button>
                  </div>
               </div>
            </div>
         </div>
         <script>
            function loadFile() {
              const fileInput = document.getElementById("file-input");
              const file = fileInput.files[0];
              const reader = new FileReader();

              reader.onload = function(e) {
                const textArea = document.getElementById("typing-text-left");
                textArea.value = e.target.result;
              }

              reader.readAsText(file);
            }

            function uploadScreenshot() {
              const canvas = document.getElementById("screenshot-canvas");
              const ctx = canvas.getContext("2d");

              const input = document.createElement("input");
              input.type = "file";
              input.accept = "image/png";

              input.addEventListener("change", function() {
                const file = this.files[0];
                const img = new Image();
                img.onload = function() {
                  ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                };
                img.src = URL.createObjectURL(file);
              });

              input.click();
            }
         </script>
         <script>
            var startTimeRight1;
            var endTime;
            var timerRight1 = document.getElementById("timerright");
            timerRight1.style.fontSize = "20px";
            var typingTextRight1 = document.getElementById("typing-textright");
            var submitButtonRight1 = document.getElementsByTagName("button")[1];
            var wordCounter1 = document.getElementById("wordcounter");

            function startTimer1(timer) {
              var interval;

              function updateTimer() {
                var elapsedTime = new Date() - startTimeRight1;
                var remainingTime = Math.max(0, 20 * 60 * 1000 - elapsedTime);
                var seconds = Math.floor((remainingTime / 1000) % 60);
                var minutes = Math.floor((remainingTime / 1000 / 60) % 60);
                timer.innerHTML = minutes + ":" + (seconds < 10 ? "0" + seconds : seconds);

                if (remainingTime <= 0) { // Check if time is up
                  clearInterval(interval);
                  timer.innerHTML = "Time's up!";
                  typingTextRight1.disabled = true;
                  submitButtonRight1.disabled = true;
                }
              }

              function start() {
                startTimeRight1 = new Date();
                interval = setInterval(updateTimer, 1000);
              }

              return start;
            }

            var startTimerRight1 = startTimer1(timerRight1);


            function updateWordCount1() { // Define a new function to update word count
              var wordCount = typingTextRight1.value.trim().split(/\s+/).length;
              wordCounter1.innerHTML = wordCount + " words";
            }

            typingTextRight1.addEventListener("keydown", function(event) {
              if (!startTimeRight1) {
                startTimerRight1();
              }
              updateWordCount1(); // Update word count on every keydown event
            });

            setTimeout(function() {
              typingTextRight1.disabled = true;
              submitButtonRight1.disabled = true;
            }, 20 * 60 * 1000);
         </script>
      </div>
      <div class="tab-content" id="tab2">
         <div class="typing-container" style="width: 100%; display: flex; justify-content: space-between;">
            <div class="typing-box" style="width: 48%; height: 869px">
               <textarea id="typing-text-left" placeholder="Paste your task" style="display: block; margin: 0 auto; padding: 10px; width: 100%; height: 300px; font-size: 18px; line-height: 1.5; border: 2px solid #ccc; border-radius: 5px; box-sizing: border-box;"></textarea>
               <button onclick="pasteText()" style="display: block; margin: 30px auto 0; padding: 10px 20px; font-size: 18px; font-weight: bold; color: #fff; background-color: #333; border: none; border-radius: 5px; cursor: pointer;">Paste</button>
               <div id="result-left" style="display: none; margin: 30px auto 0; padding: 20px; width: 100%; font-size: 24px; line-height: 1.5; text-align: center; background-color: #fff; border: 2px solid #ccc; border-radius: 5px; box-sizing: border-box;"></div>
            </div>
            <div class="typing-box" style="width: 48%; height: 869px">
               <textarea id="typing-text-right" placeholder="Type your text here" style="display: block; margin: 0 auto; padding: 10px; width: 100%; height: 800px; font-size: 18px; line-height: 1.5; border: 2px solid #ccc; border-radius: 5px; box-sizing: border-box;" autocomplete="off" spellcheck="false"></textarea>
               <div id="result-right" style="display: none; margin: 30px auto 0; padding: 20px; width: 100%; font-size: 24px; line-height: 1.5; text-align: center; background-color: #fff; border: 2px solid #ccc; border-radius: 5px; box-sizing: border-box;"></div>
               <div id="timer-container" style="width:100%; display: flex; justify-content: space-around; align-items: center; margin-top: 20px; font-size: 24px; margin-right: 10px;">
                  <div id="timer-label" style="font-size: 18px; font-size: 24px;"></div>
                  <div id="button-container" style="display: flex; justify-content: space-between; margin-top: 20px; margin: 0 auto">
                     <button id="word-counter" style="padding: 10px 20px; font-size: 18px; font-weight: bold; color: #fff; background-color: #333; border: none; border-radius: 5px; cursor: pointer; text-align: center; display: flex; justify-content: center; align-items: center; margin-right: 10px;">0 words</button> <button id="timer-right" style="padding: 10px 20px; font-size: 18px; font-weight: bold; color: #fff; background-color: #333; border: none; border-radius: 5px; cursor: pointer; text-align: center; display: flex; justify-content: center; align-items: center; margin-right: 10px;"></button>
                  </div>
               </div>
            </div>
            <script>
               function pasteText() {
               navigator.clipboard.readText()
               .then((text) => {
                 document.getElementById("typing-text-left").value = text;
               })
               .catch((err) => {
                 console.error('Failed to read clipboard contents: ', err);
               });
               }
            </script>
            <script>
               var startTimeRight;
               var endTime;
               var timerRight = document.getElementById("timer-right");
               timerRight.style.fontSize = "20px";
               var typingTextRight = document.getElementById("typing-text-right");
               var submitButtonRight = document.getElementsByTagName("button")[1];
               var wordCounter = document.getElementById("word-counter");

               function startTimer(timer) {
                 var interval;

                 function updateTimer() {
                  var elapsedTime = new Date() - startTimeRight;
               var remainingTime = Math.max(0, 40 * 60 * 1000 - elapsedTime); // Calculate remaining time
               var seconds = Math.floor((remainingTime / 1000) % 60);
               var minutes = Math.floor((remainingTime / 1000 / 60) % 60);
               timer.innerHTML = minutes + ":" + (seconds < 10 ? "0" + seconds : seconds);

               if (remainingTime <= 0) { // Check if time is up
               clearInterval(interval);
               timer.innerHTML = "Time's up!";
               typingTextRight.disabled = true;
               submitButtonRight.disabled = true;
               }
               }

                 function start() {
                   startTimeRight = new Date();
                   interval = setInterval(updateTimer, 1000);
                 }

                 return start;
               }

               var startTimerRight = startTimer(timerRight);


               function updateWordCount() { // Define a new function to update word count
                 var wordCount = typingTextRight.value.trim().split(/\s+/).length;
                 wordCounter.innerHTML = wordCount + " words";
               }

               typingTextRight.addEventListener("keydown", function(event) {
                 if (!startTimeRight) {
                   startTimerRight();
                 }
                 updateWordCount(); // Update word count on every keydown event
               });

               setTimeout(function() {
                 typingTextRight.disabled = true;
                 submitButtonRight.disabled = true;
               }, 40 * 60 * 1000);
            </script>
         </div>
      </div>
      <div class="tab-content" id="tab3">
         <div class="typing-container" style="width: 100%; display: flex; justify-content: space-between;">
            <div class="typing-box" style="width: 48%; height: 869px">
               <textarea id="typing-text-lft5" placeholder="Paste your text" style="display: block; margin: 0 auto; padding: 10px; width: 100%; height: 800px; font-size: 18px; line-height: 1.5; border: 2px solid #ccc; border-radius: 5px; box-sizing: border-box;"></textarea>
               <button onclick="pasteText5()" style="display: block; margin: 30px auto 0; padding: 10px 20px; font-size: 18px; font-weight: bold; color: #fff; background-color: #333; border: none; border-radius: 5px; cursor: pointer;">Paste</button>
               <div id="result-let" style="display: none; margin: 30px auto 0; padding: 20px; width: 100%; font-size: 24px; line-height: 1.5; text-align: center; background-color: #fff; border: 2px solid #ccc; border-radius: 5px; box-sizing: border-box;"></div>
            </div>
            <div class="typing-box" style="width: 48%; height: 869px">
               <textarea id="typing-textright5" placeholder="Type your text here" style="display: block; margin: 0 auto; padding: 10px; width: 100%; height: 800px; font-size: 18px; line-height: 1.5; border: 2px solid #ccc; border-radius: 5px; box-sizing: border-box;" autocomplete="off" spellcheck="false"></textarea>
               <div id="result-rigt" style="display: none; margin: 30px auto 0; padding: 20px; width: 100%; font-size: 24px; line-height: 1.5; text-align: center; background-color: #fff; border: 2px solid #ccc; border-radius: 5px; box-sizing: border-box;"></div>
               <div id="timer-conainer" style="width:100%; display: flex; justify-content: space-around; align-items: center; margin-top: 20px; font-size: 24px; margin-right: 10px;">
                  <div id="timer-lbel" style="font-size: 18px; font-size: 24px;"></div>
                  <div id="button-conainer" style="display: flex; justify-content: space-between; margin-top: 20px; margin: 0 auto">
                     <button id="wordcounterr" style="padding: 10px 20px; font-size: 18px; font-weight: bold; color: #fff; background-color: #333; border: none; border-radius: 5px; cursor: pointer; text-align: center; display: flex; justify-content: center; align-items: center; margin-right: 10px;">0 words</button> <button id="timerright5" style="padding: 10px 20px; font-size: 18px; font-weight: bold; color: #fff; background-color: #333; border: none; border-radius: 5px; cursor: pointer; text-align: center; display: flex; justify-content: center; align-items: center; margin-right: 10px;"></button>
                  </div>
               </div>
               <script>
                  function pasteText5() {
                  navigator.clipboard.readText()
                  .then((text) => {
                    document.getElementById("typing-text-lft5").value = text;
                  })
                  .catch((err) => {
                    console.error('Failed to read clipboard contents: ', err);
                  });
                  }
               </script>
               <script>
                  var startTimeRight5;
                  var endTime;
                  var timerRight5 = document.getElementById("timerright5");
                  timerRight5.style.fontSize = "20px";
                  var typingTextRight5 = document.getElementById("typing-textright5");
                  var submitButtonRight5 = document.getElementsByTagName("button")[1];
                  var wordCounter5 = document.getElementById("wordcounterr");

                  function startTimer5(timer) {
                    var interval;

                    function updateTimer() {
                      var elapsedTime = new Date() - startTimeRight5;
                      var seconds = Math.floor((elapsedTime / 1000) % 60);
                      var minutes = Math.floor((elapsedTime / 1000 / 60) % 60);
                      timer.innerHTML = minutes + ":" + (seconds < 10 ? "0" + seconds : seconds);
                    }

                    function start() {
                      startTimeRight5 = new Date();
                      interval = setInterval(updateTimer, 1000);
                    }

                    return start;
                  }

                  var startTimerRight5 = startTimer5(timerRight5);

                  function updateWordCount5() { // Define a new function to update word count
                    var wordCount = typingTextRight5.value.trim().split(/\s+/).length;
                    wordCounter5.innerHTML = wordCount + " words";
                  }

                  typingTextRight5.addEventListener("keydown", function(event) {
                    if (!startTimeRight5) {
                      startTimerRight5();
                    }
                    updateWordCount5(); // Update word count on every keydown event
                  });

                  // No timeout to disable typingTextRight1 and submitButtonRight1
               </script>
               <script>
                  function checkAccuracy() {
                  var inputText = document.getElementById("typing-input").value.trim();
                  var originalText = document.getElementById("typing-text").value.trim();
                  var originalWords = originalText.split(" ");
                  var inputWords = inputText.split(" ");
                  var errorCount = 0;
                  for (var i = 0; i < originalWords.length; i++) {
                    if (inputWords[i] != originalWords[i]) {
                      errorCount++;
                    }
                  }
                  var accuracy = ((originalWords.length - errorCount) / originalWords.length) * 100;
                  var resultDiv = document.getElementById("result");
                  resultDiv.innerHTML = "<p>Accuracy: " + accuracy.toFixed(2) + "%<\/p><p>Errors: " + errorCount + "<\/p>";
                  }
               </script>
               <script>
                  function showTab(tabId) {
                      // Hide all tab content
                      var tabContent = document.getElementsByClassName("tab-content");
                      for (var i = 0; i < tabContent.length; i++) {
                          tabContent[i].classList.remove("active");
                      }

                      // Deactivate all tabs
                      var tabs = document.getElementsByClassName("tab");
                      for (var i = 0; i < tabs.length; i++) {
                          tabs[i].classList.remove("active");
                      }

                      // Show the selected tab content
                      document.getElementById(tabId).classList.add("active");

                      // Activate the selected tab
                      document.querySelector("[onclick*='" + tabId + "']").classList.add("active");
                  }
               </script>
            </div>
         </div>
      </div>
   </body>
</html>
